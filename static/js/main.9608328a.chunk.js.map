{"version":3,"sources":["comps/Title.js","firebase/config.js","hooks/useFileStorage.js","comps/progressbar.js","comps/Upload.js","App.js","index.js"],"names":["Title","className","firebase","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","projectStorage","timeStamp","FieldValue","serverTimestamp","console","log","useFileStorage","file","useState","url","setUrl","setError","progress","setProgress","useEffect","storageRef","ref","name","collectionRef","collection","put","on","snap","percentage","bytesTransferred","totalBytes","err","a","getDownloadURL","createdAt","add","ProgressBar","setFile","useStorage","div","initial","width","animate","Upload","setFileName","error","allowedTypes","type","onChange","e","Selectedfile","target","files","includes","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0MAYeA,G,MAVD,WACZ,OACE,yBAAKC,UAAU,SACb,wCACA,6CACA,0F,kDCQNC,gBAVuB,CACrBC,OAAQ,0CACRC,WAAY,8BACZC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,eACnBC,MAAO,8CAMT,IAAMC,EAAmBP,cACnBQ,EAAiBR,YACjBS,EAAYT,YAAmBU,WAAWC,gBAChDC,QAAQC,IAAI,iBAAkBL,GClB9B,IA0BeM,EA1BQ,SAACC,GACpB,MAAsBC,mBAAS,MAA/B,mBAAOC,EAAP,KAAYC,EAAZ,KACA,EAA0BF,mBAAS,MAAnC,mBAAcG,GAAd,WACA,EAAgCH,mBAAS,GAAzC,mBAAOI,EAAP,KAAiBC,EAAjB,KAqBA,OAnBAC,qBAAU,WACNV,QAAQC,IAAI,mBACZ,IAAMU,EAAaf,EAAegB,IAAIT,EAAKU,MACrCC,EAAgBnB,EAAiBoB,WAAW,UAElDJ,EAAWK,IAAIb,GAAMc,GAAG,iBAAiB,SAACC,GACtC,IAAIC,EAAcD,EAAKE,iBAAmBF,EAAKG,WAAc,IAC7DZ,EAAYU,MACX,SAACG,GACFf,EAASe,KAJb,sBAKK,8BAAAC,EAAA,sEACiBZ,EAAWa,iBAD5B,cACKnB,EADL,OAEKoB,EAAY5B,IAFjB,SAGKiB,EAAcY,IAAI,CAAErB,MAAKoB,cAH9B,OAIDnB,EAAOD,GAJN,8CAMP,CAACF,IAGI,CAACE,MAAKG,a,QCfFmB,EARK,SAAC,GAAqB,IAApBxB,EAAmB,EAAnBA,KAAMyB,EAAa,EAAbA,QACxB,EAAyBC,EAAW1B,EAAMyB,GAAnCpB,EAAP,EAAOA,SAAP,EAAkBH,IAClB,OACI,kBAAC,IAAOyB,IAAR,CAAY3C,UAAU,eAAe4C,QAAS,CAAEC,MAAO,GACvDC,QAAS,CAAED,MAAOxB,EAAW,QC6BtB0B,EAlCA,WACX,MAA4B9B,mBAAS,MAArC,mBAAOD,EAAP,KAAagC,EAAb,KACA,EAA0B/B,mBAAS,MAAnC,mBAAOgC,EAAP,KAAc7B,EAAd,KACM8B,EAAe,CAAC,YAAa,YAAa,cAehD,OACI,8BACI,+BACA,2BAAOC,KAAK,OAAOC,SAjBN,SAACC,GAClBxC,QAAQC,IAAIuC,GACZ,IAAMC,EAAeD,EAAEE,OAAOC,MAAM,GACjCN,EAAaO,SAASH,EAAaH,OAClCH,EAAYM,GACZlC,EAAS,QAGT4B,EAAY,MACZ5B,EAAS,2BAGbP,QAAQC,IAAI,cAMR,oCAGA,yBAAKd,UAAU,UACZgB,GAAS,yBAAKhB,UAAU,aAAagB,EAAKU,MAC1CuB,GAAS,yBAAKjD,UAAU,SAASiD,GACjCjC,GAAQ,kBAAC,EAAD,CAAaA,KAAMA,EAAMyB,QAAUO,OCjB3CU,MATf,WACE,OACE,yBAAK1D,UAAU,OACb,kBAAC,EAAD,MACA,kBAAC,EAAD,QCHN2D,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.9608328a.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Title = () => {\r\n  return (\r\n    <div className=\"title\">\r\n      <h1>FireGram</h1>\r\n      <h2>Your Pictures</h2>\r\n      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Title;","import * as firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport 'firebase/firestore';\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyC10ZBb0dI7Z_vlv7Wobcf1DaeakvGofUg\",\r\n  authDomain: \"firegram-01.firebaseapp.com\",\r\n  projectId: \"firegram-01\",\r\n  storageBucket: \"firegram-01.appspot.com\",\r\n  messagingSenderId: \"786310976073\",\r\n  appId: \"1:786310976073:web:8ce3107facd3f88f48a598\"\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst projectFirestore = firebase.firestore();\r\nconst projectStorage = firebase.storage();\r\nconst timeStamp = firebase.firestore.FieldValue.serverTimestamp;\r\nconsole.log('projectStorage', projectStorage)\r\nexport {projectStorage, projectFirestore, timeStamp};","import React, { useEffect, useState } from \"react\";\r\nimport { projectStorage, projectFirestore, timeStamp } from '../firebase/config';\r\nconst useFileStorage = (file) => {\r\n    const [url, setUrl] = useState(null);\r\n    const [error, setError] = useState(null);\r\n    const [progress, setProgress] = useState(0);\r\n\r\n    useEffect(() => {\r\n        console.log('useEffectCalled');\r\n        const storageRef = projectStorage.ref(file.name);\r\n        const collectionRef = projectFirestore.collection('images');\r\n\r\n        storageRef.put(file).on('state_changed', (snap) => {\r\n            let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\r\n            setProgress(percentage);\r\n          }, (err) => {\r\n            setError(err);\r\n          }, async () => {\r\n            const url = await storageRef.getDownloadURL();\r\n            const createdAt = timeStamp();\r\n            await collectionRef.add({ url, createdAt });\r\n            setUrl(url);\r\n          });\r\n    },[file])\r\n    //const storageRef = projectstorage.ref(file.name);\r\n\r\n    return {url, progress};\r\n}\r\nexport default useFileStorage;\r\n","import React from \"react\";\r\nimport useStorage from '../hooks/useFileStorage'\r\nimport {motion} from 'framer-motion'\r\nconst ProgressBar = ({file, setFile}) => {\r\n    const {progress , url} = useStorage(file, setFile);\r\n    return (\r\n        <motion.div className=\"progress-bar\" initial={{ width: 0 }}\r\n        animate={{ width: progress + '%' }}></motion.div>\r\n    )\r\n}\r\n\r\nexport default ProgressBar;","import React, { useState } from \"react\";\r\nimport ProgressBar from \"./progressbar\";\r\nconst Upload = () => {\r\n    const [file, setFileName] = useState(null);\r\n    const [error, setError] = useState(null);\r\n    const allowedTypes = ['image/png', 'image/jpg', 'image/jpeg'];\r\n    const OnfileUpload = (e) => {\r\n        console.log(e)\r\n        const Selectedfile = e.target.files[0];\r\n        if(allowedTypes.includes(Selectedfile.type)) {\r\n            setFileName(Selectedfile);\r\n            setError(null);\r\n        }\r\n        else {\r\n            setFileName(null);\r\n            setError('File type is not valid')\r\n        }\r\n        \r\n        console.log('Changed');\r\n    }\r\n    return (\r\n        <form>\r\n            <label>\r\n            <input type=\"file\" onChange={OnfileUpload}></input>\r\n            <span>+</span>\r\n            </label>\r\n            \r\n            <div className=\"output\">\r\n              {file &&  <div className=\"file-name\">{file.name}</div>}\r\n              {error && <div className=\"error\">{error}</div>}\r\n              {file && <ProgressBar file={file} setFile= {setFileName}></ProgressBar>}\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Upload;","import React from 'react';\r\nimport Title from './comps/Title';\r\nimport Upload from './comps/Upload';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Title/>\r\n      <Upload />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA"],"sourceRoot":""}